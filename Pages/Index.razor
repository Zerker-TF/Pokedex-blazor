@page "/"
@using Models
@using Pokedex.Models
@using Util
@inject PokeClient client

<div class="container" >
	<img src="/img/Pok-Dex-logo.png" alt="app-title" class="app-title"/>
	
	<div>
		
		<div class="pokemon-row">
			@foreach (var pokemon in pokemonList)
			{
				<a href="/pokemon/@pokemon.id">
					<div class="pokemon-card">
						<img src="@pokemon.sprites.front_default" alt="Pokemon Sprite">

						<h4 class="pokemon-name">#@pokemon.id @pokemon.name</h4>

						<div class="type-row">
							@foreach (var type in pokemon.types)
							{
								<span class="type-badge" style="background-color: @PokeColor.GetTypeColor(@type.type.name)">@type.type.name</span>
								//muestra el tipo de pokemon y si tiene mas de un tipo busca el 2do y lo muestra tambien.
							}
						</div>
					</div>
				</a>
			}
		</div>
		
	</div>

  </div>


 



@code {

	Pokemon pokemon = new Pokemon();

	List<Pokemon> pokemonList = new List<Pokemon>();

	protected override async Task OnInitializedAsync()
	{
		//pokemon = await client.GetPokemon("1"); this grabs the pokemon name 

		for (int i = 1; i < 152; i++)
		{
			pokemonList.Add(await client.GetPokemon(i.ToString())); // i represents the pokemon id
			StateHasChanged();
		}

	}
}